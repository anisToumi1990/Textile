<script type="text/javascript">
    $("#collapseVente").addClass("show");
    $("#venteHref").addClass("active");
    $("#_vente").addClass("active");
</script>
<style type="text/css">
    input[type=text], select {
        text-align: center;
        text-align-last: center;
    }
</style>
<input type="hidden" id="Code" value="@ViewBag.id" />
<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h2 class="h3 mb-0 text-gray-800">

            <a href="/Vente/Index"><i class="fa fa-arrow-left" aria-hidden="true"></i> @ViewBag.Facture</a>
            <br />Client: @ViewBag.Client
            <br />Status:
            @if (ViewBag.Status == "Valide")
            {
                <span class="badge badge-success">Valide</span>
            }
            else
            {
                <span class="badge badge-danger">Non Valide</span>
            }

        </h2>
        @if (ViewBag.Status == "Valide")
        {
            <button onclick="OpenVenteDetailsEditor(0)" style="float:right" class="btn btn-success btn-icon-split">
                <span class="icon text-white-50">
                    <i class="fas fa-plus"></i>
                </span>
                <span class="text">Ajouter</span>
            </button>
            <button onclick="Print(@ViewBag.id)" style="float:right;margin-right:10px" class="btn btn-primary btn-icon-split">
                <span class="icon text-white-50">
                    <i class="fas fa-file-pdf"></i>
                </span>
                <span class="text">Imprimer</span>
            </button>
        }


    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-striped table-bordered dt-responsive nowrap"
                   id="VenteDetailsGrid" style="width:100%">
                <thead>
                    <tr>
                        <th style="text-align:center;">id</th>
                        <th style="text-align:center;"></th>
                        <th style="text-align:center;">
                            Refrence
                        </th>
                        <th style="text-align:center;">
                            Description
                        </th>
                        <th style="text-align:center;">
                            Date Creation
                        </th>
                        <th style="text-align:center;">
                            Quantite
                        </th>
                        <th style="text-align:center;">
                            Prix Unitaire
                        </th>
                        <th style="text-align:center;">
                            Prix Total
                        </th>
                    </tr>
                </thead>
                <tbody align="center"></tbody>
                <tfoot>
                    <tr>
                        <th colspan="7" style="text-align:right; background-color:#f8f9fc">TOTAL :</th>
                        <th style="text-align: center;"></th>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        
        var Code = $("#Code").val();
       
        LoadVenteDetailsData(Code, "@ViewBag.Status");
    });
</script>
<script src="~/Javascript/Vente/VenteDetails-JS.js"></script>